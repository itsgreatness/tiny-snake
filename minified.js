!function(){if("boolean"!=typeof window.active){var e;let k;window.toggleModal=function(){window.clearTimeout(e),window.active?(e=window.setTimeout((function(){v=!1,requestAnimationFrame(L)}),3e3),window.popup.style.display="inline-block",window.popup.focus()):(v=!0,window.active=!1,window.popup.style.display="none",window.focusedElement.focus({focusVisible:!0}))},window.focusedElement=document.activeElement,window.active=!window.active??!0;let C=[0,0];window.popup=document.createElement("div"),window.popup.id="game";let S=!1;window.popup.style.all="initial",window.popup.style.display="inline-block",window.popup.style.position="fixed",window.popup.style.left="0px",window.popup.style.top="0px",window.popup.style.margin="0px 0px 0px 0px",window.popup.style.padding="0px 0px 0px 0px",window.popup.style.zIndex=9999,window.popup.tabIndex=0,window.popup.addEventListener("mousedown",(function(e){S=!0,C=[window.popup.offsetLeft-e.clientX,window.popup.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(function(){S=!1}),!0),document.addEventListener("mousemove",(function(e){e.preventDefault(),S&&(k={x:e.clientX,y:e.clientY},window.popup.style.left=k.x+C[0]+"px",window.popup.style.top=k.y+C[1]+"px")}),!0),document.addEventListener("focus",(function(e){document.activeElement!=window.popup&&(window.focusedElement=document.activeElement)}),!0),document.addEventListener("keydown",(function(e){e.ctrlKey&&2==e.location&&(window.active=!window.active),window.toggleModal()}),!0),document.body.appendChild(window.popup),window.popup.focus({focusVisible:!0});var n=this&&this.__spreadArray||function(e,n,o){if(o||2===arguments.length)for(var t,i=0,p=n.length;i<p;i++)!t&&i in n||(t||(t=Array.prototype.slice.call(n,0,i)),t[i]=n[i]);return e.concat(t||Array.prototype.slice.call(n))},o=(Math.pow,Math.abs),t=Math.floor,i=Math.ceil,p=Math.max,w=(Math.min,function(e,n){return t(Math.random()*(t(n)-i(e))+i(e))}),d=function(e){return 1-o(e-2)},a=function(e){return Symbol.for(JSON.stringify(e))},l=24,c=24,r=16,u=new Array(c).fill(new Array(l).fill(0)),s=[{x:t(6),y:t(12)}],f=1,y=4,m={x:w(0,l),y:w(0,c)},x=0,h=!1,v=!0,g=document.createElement("canvas");g.width=384,g.height=384,window.popup.style.width=`${g.width}px`,window.popup.style.height=`${g.height}px`;var E=document.getElementById("game");null==E||E.appendChild(g);var M=g.getContext("2d");window.addEventListener("keydown",(function(e){if(h||v)return"enter"===e.key.toLowerCase()?A():void 0;e.preventDefault(),e.stopPropagation();var n=function(){switch(e.key.toLowerCase()){case"arrowdown":case"s":return v?f:2;case"arrowup":case"w":return v?f:0;case"arrowleft":case"a":return v?f:3;case"arrowright":case"d":return v?f:1;default:return f}}();f+=function(e,n){return o(o(e-n)-2)}(n,f)*(n-f)}),!0);var b=function(){window.active&&(u.fill(new Array(l).fill(0)),u[p(0,m.y)]=n(n(n([],u[p(0,m.y)].slice(0,p(0,m.x)),!0),[2],!1),u[p(0,m.y)].slice(p(0,m.x)+1,u[p(0,m.y)].length),!0),s.forEach((function(e){try{u[p(0,e.y)]=n(n(n([],u[p(0,e.y)].slice(0,p(0,e.x)),!0),[1],!1),u[p(0,e.y)].slice(p(0,e.x)+1,u[p(0,e.y)].length),!0)}catch(e){h=!0}})),u.forEach((function(e,n){e.forEach((function(e,o){M&&(M.fillStyle=["green","blue","red"][e],M.fillRect(o*r,n*r,r,r))}))})),M&&(M.fillStyle="white",M.font="bold ".concat(12,"px sans-serif"),M.fillText(x.toString(),16,32))),requestAnimationFrame(b)},A=function(){h&&(s=[{x:t(6),y:t(12)}],f=1,y=4,m={x:w(0,l),y:w(0,c)},x=0,h=!1,window.toggleModal())},L=function(){var e,n,t;v||(h||(s.unshift({x:s[0].x+(t=f,1-o(t-1)),y:s[0].y+d(f)}),(s=s.slice(0,y))[0].x==m.x&&s[0].y==m.y&&(x+=1,y+=1,m={x:w(0,l),y:w(0,c)}),(s[0].x>=l||s[0].x<0||s[0].y>=c||s[0].y<0)&&(h=!0),n={},(e=s).forEach((function(e,o){n.hasOwnProperty(a(e))||(n[a(e)]=o)})),e.some((function(e,o){return n[a(e)]!=o}))&&(h=!0)),window.setTimeout(requestAnimationFrame,62.5,L))};requestAnimationFrame(b),window.toggleModal()}else window.active=!window.active,window.toggleModal()}();