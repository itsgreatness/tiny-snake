!function(){if("boolean"!=typeof window.active){var e;let k;window.toggleModal=function(t=3e3){return console.table({source:"toggleModal",time:Date.now(),t:t,_id:e}),window.clearTimeout(e),!0===window.active?(e=window.setTimeout((function(){console.table({source:"anonymous timeout",time:Date.now(),t:t,_id:e}),v=!1,requestAnimationFrame(L),window.clearTimeout(e)}),t),window.popup.style.display="inline-block",window.popup.focus()):(v=!0,window.active=!1,window.popup.style.display="none",window.focusedElement.focus({focusVisible:!0})),t},window.focusedElement=document.activeElement,window.active=!window.active??!0;let T=[0,0];window.popup=document.createElement("div"),window.popup.id="game";let C=!1;window.popup.style.all="initial",window.popup.style.display="inline-block",window.popup.style.position="fixed",window.popup.style.left="0px",window.popup.style.top="0px",window.popup.style.margin="0px 0px 0px 0px",window.popup.style.padding="0px 0px 0px 0px",window.popup.style.zIndex=9999,window.popup.tabIndex=0,window.popup.addEventListener("mousedown",(function(e){C=!0,T=[window.popup.offsetLeft-e.clientX,window.popup.offsetTop-e.clientY]}),!0),document.addEventListener("mouseup",(function(){C=!1}),!0),document.addEventListener("mousemove",(function(e){e.preventDefault(),C&&(k={x:e.clientX,y:e.clientY},window.popup.style.left=k.x+T[0]+"px",window.popup.style.top=k.y+T[1]+"px")}),!0),document.addEventListener("focus",(function(e){document.activeElement!=window.popup&&(window.focusedElement=document.activeElement)}),!0),document.addEventListener("keydown",(function(e){e.ctrlKey&&2===e.location&&(window.active=!window.active,window.toggleModal())}),!0),document.body.appendChild(window.popup),window.popup.focus({focusVisible:!0});var t=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=(Math.pow,Math.abs),n=Math.floor,i=Math.ceil,a=Math.max,w=(Math.min,function(e,t){return n(Math.random()*(n(t)-i(e))+i(e))}),l=function(e){return 1-o(e-2)},p=function(e){return Symbol.for(JSON.stringify(e))},d=24,c=24,r=16,u=new Array(c).fill(new Array(d).fill(0)),s=[{x:n(6),y:n(12)}],f=1,y=4,m={x:w(0,d),y:w(0,c)},x=0,h=!1,v=!0,g=document.createElement("canvas");g.width=384,g.height=384,window.popup.style.width=`${g.width}px`,window.popup.style.height=`${g.height}px`;var E=document.getElementById("game");null==E||E.appendChild(g);var b=g.getContext("2d");window.addEventListener("keydown",(function(e){if(h||v)return"enter"===e.key.toLowerCase()?A():void 0;e.preventDefault(),e.stopPropagation();var t=function(){switch(e.key.toLowerCase()){case"arrowdown":case"s":return v?f:2;case"arrowup":case"w":return v?f:0;case"arrowleft":case"a":return v?f:3;case"arrowright":case"d":return v?f:1;default:return f}}();f+=function(e,t){return o(o(e-t)-2)}(t,f)*(t-f)}),!0);var M=function(){window.active&&(u.fill(new Array(d).fill(0)),u[a(0,m.y)]=t(t(t([],u[a(0,m.y)].slice(0,a(0,m.x)),!0),[2],!1),u[a(0,m.y)].slice(a(0,m.x)+1,u[a(0,m.y)].length),!0),s.forEach((function(e){try{u[a(0,e.y)]=t(t(t([],u[a(0,e.y)].slice(0,a(0,e.x)),!0),[1],!1),u[a(0,e.y)].slice(a(0,e.x)+1,u[a(0,e.y)].length),!0)}catch(e){h=!0}})),u.forEach((function(e,t){e.forEach((function(e,o){b&&(b.fillStyle=["green","blue","red"][e],b.fillRect(o*r,t*r,r,r))}))})),b&&(b.fillStyle="white",b.font="bold ".concat(12,"px sans-serif"),b.fillText(x.toString(),16,32))),requestAnimationFrame(M)},A=function(){h&&(s=[{x:n(6),y:n(12)}],f=1,y=4,m={x:w(0,d),y:w(0,c)},x=0,h=!1,console.table({source:"attemptRestart",time:Date.now(),t:window.toggleModal(0),_id:e}))},L=function(){var e,t,n;v||h||(s.unshift({x:s[0].x+(e=f,1-o(e-1)),y:s[0].y+l(f)}),(s=s.slice(0,y))[0].x==m.x&&s[0].y===m.y&&(x+=1,y+=1,m={x:w(0,d),y:w(0,c)}),(s[0].x>=d||s[0].x<0||s[0].y>=c||s[0].y<0)&&(h=!0),n={},(t=s).forEach((function(e,t){n.hasOwnProperty(p(e))||(n[p(e)]=t)})),t.some((function(e,t){return n[p(e)]!=t}))&&(h=!0),window.setTimeout(requestAnimationFrame,62.5,L))};requestAnimationFrame(M),window.toggleModal()}else window.active=!window.active,window.toggleModal()}();